import{r as t,j as e,F as j}from"./index-7c40f22d.js";function N({spot:a}){const[s,n]=t.useState(!1),[c,l]=t.useState(!1),[o,m]=t.useState(!1),r=t.useRef(null),d=()=>{r.current=setTimeout(()=>{n(!0)},500)},u=()=>{r.current&&clearTimeout(r.current),n(!1)};t.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const g=i=>i?Number(i).toFixed(1):"New",h=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(i).replace("$",""),p=g(a.avgRating),x=h(a.price);return e.jsxs("article",{className:"spot-card-container",onMouseEnter:d,onMouseLeave:u,"aria-label":`${a.name} in ${a.city}, ${a.state}`,children:[e.jsx("div",{className:"spot-card",children:e.jsxs("div",{className:"spot-image-container",children:[!c&&!o&&e.jsx("div",{className:"image-skeleton","aria-label":"Loading image"}),e.jsx("img",{className:`spot-image ${c?"loaded":""}`,src:a.previewImage,alt:`${a.name} - ${a.city}, ${a.state}`,loading:"lazy",onLoad:()=>l(!0),onError:()=>{m(!0),l(!0)}}),o&&e.jsxs("div",{className:"image-error",children:[e.jsx("span",{children:"ðŸ“·"}),e.jsx("p",{children:"Image unavailable"})]}),e.jsx("div",{className:`tooltip ${s?"show":"hide"}`,role:"tooltip",children:a.name})]})}),e.jsxs("div",{className:"spot-data",children:[e.jsxs("div",{className:"left-panel",children:[e.jsx("div",{className:"location",children:e.jsxs("span",{className:"location-text",children:[a.city,", ",a.state]})}),e.jsxs("div",{className:"price",children:[e.jsxs("span",{className:"price-amount",children:["$",x]}),e.jsx("span",{className:"price-period",children:" / night"})]})]}),e.jsx("div",{className:"right-panel",children:e.jsxs("div",{className:"rating",children:[e.jsx(j,{className:"star","aria-hidden":"true"}),e.jsx("span",{className:"rating-value",children:p})]})})]})]})}const v=(a,s)=>a.spot.id===s.spot.id&&a.spot.avgRating===s.spot.avgRating&&a.spot.previewImage===s.spot.previewImage&&a.spot.price===s.spot.price,$=t.memo(N,v);export{$ as M};
